<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0070)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html.cs -->
<html class=" aaxfusc idc0_321" lang="cs"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
    
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>2. Hotel: rezervace a správa ubytování</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Martin Haderka <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
		<a href="mailto:xhader00@stud.fit.vutbr.cz">xhader00@stud.fit.vutbr.cz</a> -
		<ul>
			<li>Zaji¹tìní hostinu a doménového jména.</li>
			<li>Návrh a testování UI.</li>
			<li>Spolupráce na Flask controlleru.</li>
			<li>Vytvoøení front-end èásti (ReactJS aplikace).</li>
		</ul>
	</dd>
	<dd>Richard Klem <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
		<a href="mailto:xklemr00@stud.fit.vutbr.cz">xklemr00@stud.fit.vutbr.cz</a> - 
		<ul>
			<li>Vytvoøení MySQL databáze a testovacích dat</li>
			<li>Spolupráce na Flask controlleru</li>
			<li>Testování controlleru</li>
			<li>Testování front-end èásti</li>
		</ul>
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://iis-projekt.ddns.net/">http://iis-projekt.ddns.net/</a></dd>
	<dd><a href="http://93.153.43.141/">http://93.153.43.141/</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin@iis-hotel.cz</td><td>1234</td><td>administrátor</td></tr>
<tr><td>vlastnik@iis-hotel.cz</td><td>1234</td><td>vlastník</td></tr>
<tr><td>recepcni@iis-hotel.cz</td><td>1234</td><td>recepèní</td></tr>
<tr><td>martin@email.cz</td><td>1234</td><td>zákazník</td></tr>
<tr><td>john.appleseed@apple.com</td><td>1234</td><td>zákazník</td></tr>
</tbody></table> 

<h2>Implementace</h2>
<p>Struèná dokumentace k implementaci, která popisuje, které èásti projektu (napø. PHP skripty) implementují jednotlivé pøípady pou¾ití.</p>
<h3>Flask framework - controller</h3>
<h4>__init__.py</h4>
<p>Soubor s konstantami pøístupových údajù a adresou databáze.</p>
<h4>databaseConnector.py</h4>
<p>Modul zaji¹»ující pøipojení a zasílání pøíkazù do databáze.</p>
<h4>iisUtils.py</h4>
<p>Modul s podpùrnými funkcemi pro práci s hlavním modulem.<br/>
	Zaji¹»uje následující funkcionalitu:</p>
<ul>
	<li>zahashování pøijatého hesla funkcí <b>#hash_password</b>,</li>
	<li>zkontrolování hesla pomocí pomocí <b>#verify_password</b>,</li>
	<li>vygenerování náhodného identifikátoru pro pøihlá¹eného u¾ivatele <b>#random_uuid</b>,</li>
	<li>ukládání vlo¾ených obrázkù <b>#save_image</b>,</li>
	<li>zpracování nevhodných vstupù <b>#serializa_string</b>,</li>
	<li>èasto pou¾ívané po¾adavky zasílané databázi.</li>
</ul>
<h4>api.py</h4>
<p>Hlavní modul, který zpracovává pøíchozí GET/POST po¾adavky.<br/>
	Výpis hlavních funkcí:</p>
<ul>
	<li>funkce pro pøidání nového zákazníka<b>#registration</b></li>
	<li>funkce pro ovìøení hesla zákazníka, který se pøihla¹uje<b>#login</b></li>
	<li>funkce pro získání a úpravu dat z DB o úètu pøihlá¹eného zákazníka<b>#account</b>, <b>#get_user_name</b>, <b>#get_role</b>, a <b>#update_account</b></li>
	<li>funkce pro administrátora pro správu u¾ivatelù<b>#get_users</b>, <b>#update_user_request</b> a <b>#remove_user</b></li>
	<li>funkce pro správu obrázkù<b>#upload_user_image</b>, <b>#get_profile_image</b>, <b>#upload_hotel_image</b>, <b>#get_hotel_image</b>, <b>#upload_room_image</b> a <b>#get_room_image</b></li>
	<li>funkce zaji¹»ující zobrazení nabídky a správu hotelù<b>#get_available_hotels</b>, <b>#get_hotels_admin</b>, <b>#get_hotels</b>, <b>#remove_hotel</b>, <b>#is_hotel_reserved</b>, <b>#edit_hotel</b> a <b>#edit_hotel</b></li>
	<li>funkce zaji¹»ující zobrazení nabídky a správu pokojù<b>#get_room_by_hotel_id</b>, <b>#is_room_reserved</b>, <b>#get_room_by_hotel_id_admin</b>, <b>#get_room</b>, <b>#remove_room</b>, <b>#add_room</b> a <b>#edit_room</b></li>

</ul>

<h3>Databáze</h3>
	<div><img src="DBschema.svg" height="1024px" alt="Database schema"></div>
<h2>Instalace</h2>
	<div>
		Otevøete si dva terminály. V prvním pobì¾í Flask server, v druhém React aplikace.
		Pøíkazy pro nastartování Flask serveru v prvním terminálu:
		<ul>
			<li><code>cd backend</code></li>
			<li><code>python3 -m pip install -r requirements.txt</code></li>
			<li><code>flask run</code></li>
		</ul>
		Pøíkazy pro nastartování React aplikace v druhém terminálu:
		<ul>
			<li><code>cd frontend</code></li>
			<li><code>npm i</code></li>
			<li><code>npm start</code></li>
		</ul>
	</div>

Struènì popi¹te: 
<ul>
<li>postup instalace na server,</li>
<li>softwarové po¾adavky (verze PHP apod.),</li>
<li>jak rozbalit, konfigurovat, inicializovat databázi, ...</li>
</ul>

<h2>Známé problémy</h2>
<p>Zde popi¹te, které body zadání nejsou implementovány a z jakého dùvodu. Napø. &#8222;Z èasových dùvodù nebyla implementována správa u¾ivatelù.&#8221; Pomù¾ete tím zrychlit hodnocení, kdy¾ neimplementované funkce nebudeme muset dlouze hledat.</p>



</body></html>